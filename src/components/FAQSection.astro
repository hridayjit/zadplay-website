---
// FAQ Section Component
import FacebookIcon from '../logo/facebook';
import InstagramIcon from '../logo/intstagram';
---

<section class="faq-section">
  <div class="faq-container">
    <div class="faq-left">
      <div class="faq-image">
        <div class="faq-image-placeholder"></div>
      </div>
      <div class="faq-contact">
        <p class="faq-contact-text">Still have questions for us?</p>
        <button class="btn-primary">SEND YOUR QUERIES</button>
        <div class="faq-info">
          <div class="faq-email">
            <p class="faq-label">EMAIL</p>
            <p class="faq-value">hello@zadplay.com</p>
          </div>
          <div class="faq-social">
            <p class="faq-label">SOCIAL</p>
            <div class="faq-icons">
              <a href="https://facebook.com" target="_blank" rel="noopener noreferrer" aria-label="Facebook">
                <FacebookIcon client:load width={24} height={24} />
              </a>
              <a href="https://instagram.com" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
                <InstagramIcon client:load width={24} height={24} />
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="faq-right">
      <h2 class="faq-title">
        FREQUENTLY ASKED<br />
        QUESTIONS
      </h2>

      <div class="faq-list">
        <div class="faq-item">
          <button class="faq-question">
            <span>1. How do I register my space on Zadplay?</span>
            <span class="faq-icon">+</span>
          </button>
          <div class="faq-answer">
            <p>Registering your space is simple! Just visit our platform, click on "Get Started," and fill out the registration form with details about your property. Our team will review your submission and reach out within 24-48 hours to discuss the next steps, including site evaluation and installation planning.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-question">
            <span
              >2. What kind of support can I expect from the Zadplay
              ecosystem?</span
            >
            <span class="faq-icon">+</span>
          </button>
          <div class="faq-answer">
            <p>Zadplay provides comprehensive support including installation, maintenance, technical assistance, and content management. Our dedicated team monitors your screens 24/7, handles all advertiser relationships, and ensures optimal performance. You'll also have access to our dashboard for real-time analytics and revenue tracking.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-question">
            <span
              >3. How do I know if my existing hardware is compatible with
              Zadplay?</span
            >
            <span class="faq-icon">+</span>
          </button>
          <div class="faq-answer">
            <p>Our technical team will conduct a thorough assessment of your existing hardware during the initial consultation. We support most modern digital display systems. If upgrades are needed, we'll provide recommendations and can handle the installation. In many cases, we provide the hardware at no upfront cost as part of our partnership model.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-question">
            <span
              >4. How do I track and optimize monetization performance of my
              space/s?</span
            >
            <span class="faq-icon">+</span>
          </button>
          <div class="faq-answer">
            <p>Access our intuitive dashboard to monitor real-time metrics including impressions, engagement rates, and revenue. We provide detailed monthly reports and insights. Our AI-powered optimization engine automatically adjusts content placement and timing to maximize your earnings. You'll also have a dedicated account manager to help strategize and improve performance.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  import gsap from 'gsap';
  import { ScrollTrigger } from 'gsap/ScrollTrigger';

  gsap.registerPlugin(ScrollTrigger);

  // Wait for DOM to be ready
  document.addEventListener('DOMContentLoaded', () => {
    // FAQ image animation - fade in + scale
    gsap.from('.faq-image-placeholder', {
      scale: 0.9,
      opacity: 0,
      duration: 0.8,
      scrollTrigger: {
        trigger: '.faq-section',
        start: 'top 75%',
      },
    });

    // FAQ title animation - fade in + slide right
    gsap.from('.faq-title', {
      x: -30,
      opacity: 0,
      duration: 0.8,
      scrollTrigger: {
        trigger: '.faq-section',
        start: 'top 75%',
      },
    });

    // FAQ items animation - staggered fade in + slide up
    gsap.from('.faq-item', {
      y: 20,
      opacity: 0,
      stagger: 0.15,
      scrollTrigger: {
        trigger: '.faq-section',
        start: 'top 75%',
      },
    });

    // Contact button animation - fade in
    gsap.from('.faq-contact .btn-primary', {
      opacity: 0,
      duration: 0.6,
      scrollTrigger: {
        trigger: '.faq-section',
        start: 'top 75%',
      },
    });

    // Accordion functionality
    const faqQuestions = document.querySelectorAll('.faq-question');
    
    faqQuestions.forEach((question) => {
      question.addEventListener('click', () => {
        const faqItem = question.parentElement;
        if (!faqItem) return;
        
        const answer = faqItem.querySelector('.faq-answer') as HTMLElement;
        const icon = question.querySelector('.faq-icon');
        if (!answer || !icon) return;
        
        const isOpen = faqItem.classList.contains('active');

        // Close all other items
        document.querySelectorAll('.faq-item').forEach((item) => {
          if (item !== faqItem && item.classList.contains('active')) {
            const otherAnswer = item.querySelector('.faq-answer') as HTMLElement;
            const otherIcon = item.querySelector('.faq-icon');
            
            if (otherAnswer) {
              gsap.to(otherAnswer, {
                height: 0,
                opacity: 0,
                duration: 0.4,
                ease: 'power2.inOut',
              });
            }
            
            if (otherIcon) {
              otherIcon.textContent = '+';
            }
            item.classList.remove('active');
          }
        });

        // Toggle current item
        if (isOpen) {
          gsap.to(answer, {
            height: 0,
            opacity: 0,
            duration: 0.4,
            ease: 'power2.inOut',
          });
          icon.textContent = '+';
          faqItem.classList.remove('active');
        } else {
          // Get the natural height
          answer.style.height = 'auto';
          const height = answer.offsetHeight;
          answer.style.height = '0';
          
          gsap.to(answer, {
            height: height,
            opacity: 1,
            duration: 0.4,
            ease: 'power2.inOut',
            onComplete: () => {
              answer.style.height = 'auto';
            }
          });
          icon.textContent = 'âˆ’';
          faqItem.classList.add('active');
        }
      });
    });
  });
</script>

<style>
  /* FAQ Section */
  .faq-section {
    background: #fff8d1;
    padding: 4rem 2rem 4rem 1rem;
  }

  .faq-container {
    max-width: 1400px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 300px 1fr;
    gap: 4rem;
  }

  .faq-left {
    display: flex;
    flex-direction: column;
    gap: 0.1rem;
  }

  .faq-image {
    width: 100%;
  }

  .faq-image-placeholder {
    width: 100%;
    aspect-ratio: 4/3;
    background: url('/images/11.jpg') center/cover;
    border-radius: 8px;
  }

  .faq-contact {
    display: flex;
    flex-direction: column;
    gap: 0.1rem;
  }

  .faq-contact-text {
    font-size: 1.2rem;
    font-weight: 700;
    color: #000;
  }

  .faq-contact .btn-primary {
    background: #000;
    color: #fff8d1;
    padding: 0.875rem 1.5rem;
    font-weight: 700;
    font-size: 0.9rem;
    cursor: pointer;
    border-radius: 8px;
    border: none;
    transition: all 0.3s ease;
    width: 100%;
  }

  .faq-contact .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  }

  .faq-info {
    display: flex;
    flex-direction: column;
    gap: 0.15rem;
  }

  .faq-email,
  .faq-social {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }

  .faq-label {
    font-size: 0.95rem;
    font-weight: 700;
    color: #000;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .faq-value {
    font-size: 1.1rem;
    color: #000;
  }

  .faq-icons {
    display: flex;
    gap: 0.75rem;
    align-items: center;
  }

  .faq-icons a {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.3s ease, opacity 0.3s ease;
    color: inherit;
  }

  .faq-icons a:hover {
    transform: scale(1.1);
    opacity: 0.8;
  }

  .faq-icons svg {
    width: 24px;
    height: 24px;
    display: block;
  }

  .faq-right {
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }

  .faq-title {
    font-size: clamp(2.5rem, 5vw, 4rem);
    font-weight: 900;
    line-height: 1;
    color: #000;
    margin-bottom: 1rem;
  }

  .faq-list {
    display: flex;
    flex-direction: column;
  }

  .faq-item {
    border-top: 3px solid #000;
    padding: 1.5rem 0;
  }

  .faq-item:last-child {
    border-bottom: 3px solid #000;
  }

  .faq-question {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: transparent;
    border: none;
    padding: 0;
    font-size: clamp(1rem, 1.5vw, 1.25rem);
    font-weight: 700;
    color: #000;
    cursor: pointer;
    text-align: left;
    transition: all 0.3s ease;
  }

  .faq-question:hover {
    opacity: 0.7;
  }

  .faq-icon {
    font-size: 2rem;
    font-weight: 300;
    flex-shrink: 0;
    margin-left: 1rem;
    transition: transform 0.3s ease;
  }

  .faq-answer {
    height: 0;
    opacity: 0;
    overflow: hidden;
    padding: 0 1rem 0 0;
  }

  .faq-answer p {
    font-size: clamp(1.1rem, 1.5vw, 1.3rem);
    line-height: 1.6;
    color: #333;
    margin-top: 1rem;
  }

  .faq-item.active .faq-question {
    color: #4A90E2;
  }

  /* FAQ Section Responsive */
  @media (max-width: 1024px) {
    .faq-container {
      grid-template-columns: 250px 1fr;
      gap: 3rem;
    }

    .faq-title {
      font-size: clamp(2rem, 4vw, 3rem);
    }
  }

  @media (max-width: 768px) {
    .faq-section {
      padding: 3rem 1.5rem;
    }

    .faq-container {
      grid-template-columns: 1fr;
      gap: 3rem;
    }

    .faq-left {
      order: 2;
    }

    .faq-right {
      order: 1;
    }

    .faq-title {
      font-size: 2.5rem;
    }

    .faq-question {
      font-size: 1.15rem;
    }

    .faq-icon {
      font-size: 1.5rem;
    }
  }

  @media (max-width: 480px) {
    .faq-section {
      padding: 2rem 1rem;
    }

    .faq-title {
      font-size: 2rem;
    }

    .faq-item {
      padding: 1.25rem 0;
    }

    .faq-question {
      font-size: 1.05rem;
    }
  }
</style>
